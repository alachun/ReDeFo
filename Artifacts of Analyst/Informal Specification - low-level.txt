Preconditions (Input Requirements)
The angular velocity along all three axes must be within the range of -360 to 360 degrees per second.

The stability time and the sub-mode runtime must both fall within a reasonable range of 0 to 10,000.

The current mode must be either Rate Damping Mode or Passive Attitude Stabilization Mode.

Function Behavior Description
The function will modify the following three variables:

the current mode,

the mode runtime, and

the angular velocity stability duration.

The function returns either 0 or 1, indicating whether a mode transition has occurred.

Behavior Guarantees (Function Output Properties)
If the angular velocities in all three directions are within ¡À0.15 degrees per second, the angular velocity stability duration will be incremented by one.

Otherwise, the stability duration remains unchanged (it is not reset to 0).

If either of the following conditions is met:

The system has remained stable for more than 44 seconds, and the angular velocities are still within ¡À0.15 deg/s,

OR the sub-mode has been running for a full 128 seconds,
then the mode will switch to Passive Attitude Stabilization Mode.

Once the mode transitions to Passive Attitude Stabilization Mode, the sub-mode runtime and the stability duration will both be reset to zero.

If none of the transition conditions are satisfied, the system will remain in Rate Damping Mode,
and the sub-mode runtime will remain unchanged (neither incremented nor reset).